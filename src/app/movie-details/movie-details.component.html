@if(movie) {
<app-up-to-top></app-up-to-top>
<div
  class="container movie-card"
  [ngStyle]="{
    'background-image':
      'linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(' +
      'https://image.tmdb.org/t/p/w1280/' +
      movie.backdrop_path +
      ')'
  }"
>
  <div class="row mt-4">
    <div class="col-md-4">
      <img
        [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path"
        alt="Movie Poster"
        class="movie-poster"
      />
    </div>

    <div class="col-md-8 movie-details">
      <div class="d-flex align-items-center justify-content-between">
        <h1 class="movie-title text-light">
          {{ movie.title }}
        </h1>
        <i
          [class]="heartIconClass"
          (click)="toggleWishlist()"
          [style.cursor]="'pointer'"
        ></i>
      </div>

      <p class="release-date">
        {{ movie.release_date | date : "mediumDate" }}
      </p>

      <div class="rating d-flex align-items-center">
        <span
          [innerHTML]="movie.vote_average | ratingStars"
          class="small"
        ></span>
        <span class="rating-text ms-4">({{ movie.vote_count }}) review</span>
      </div>

      <p class="movie-description">
        {{ movie.overview }}
      </p>

      <div class="genres">
        <span *ngFor="let genre of movie.genres" class="badge genre">
          {{ genre.name }}
        </span>
      </div>

      <div class="d-flex align-content-center justify-content-start gap-5">
        <p class="movie-info">
          <strong>Duration:</strong>
          <span class="text-white-50 ms-1">{{ movie.runtime }} min.</span>
        </p>

        <p class="movie-info">
          <strong>Languages:</strong>
          <span
            class="text-white-50"
            *ngFor="let lang of movie.spoken_languages; let i = index"
          >
            {{ lang.english_name
            }}<span *ngIf="i !== movie.spoken_languages.length - 1">, </span>
          </span>
        </p>
      </div>
      <div class="d-flex gap-4 my-3">
        <ng-container *ngFor="let company of movie.production_companies">
          <img
            *ngIf="company.logo_path !== null"
            [src]="'https://image.tmdb.org/t/p/w500' + company.logo_path"
            alt="Company Logo"
            width="auto"
            height="40px"
            style="
              object-fit: contain;
              background-color: #ffd700;
              padding: 5px;
              border-radius: 4px;
            "
          />
        </ng-container>
      </div>
      <div class="my-5">
        <a [href]="movie.homepage" class="genre text-decoration-none"
          >Website
          <i
            class="fa-solid fa-link"
            style="font-size: 12px; margin-left: 2px"
          ></i
        ></a>
      </div>
    </div>
  </div>
</div>

<hr class="horizontalRol" />

<div class="container">
  <app-recommendations [movieId]="movie.id"></app-recommendations>
</div>
}@else {
<app-not-found
  [message]="'404 - Movie not found with ID: ' + route.snapshot.params['id']"
></app-not-found>
}
